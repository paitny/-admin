{"version":3,"file":"LinkAdd.fd96ad06.js","sources":["../../src/views/LinkManage/LinkAdd.vue"],"sourcesContent":["<template>\r\n  <div id=\"LinkAdd\">\r\n    <el-form\r\n        :model=\"form\"\r\n        :rules=\"rules\"\r\n        ref=\"form\"\r\n        status-icon\r\n        label-position=\"top\"\r\n    >\r\n      <el-form-item label=\"名称\" prop=\"name\">\r\n        <el-input v-model=\"form.name\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"首页\" prop=\"home\">\r\n        <el-input v-model=\"form.home\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"图标\" prop=\"logo\">\r\n        <el-input v-model=\"form.logo\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"描述\" prop=\"des\">\r\n        <el-input v-model=\"form.des\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" size=\"large\" @click=\"submit\">确认添加</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapMutations} from 'vuex'\r\nexport default {\r\n  name: \"LinkAdd\",\r\n  data() {\r\n    return {\r\n      form: {\r\n        name: \"\",\r\n        home: \"\",\r\n        logo: \"\",\r\n        des: \"\"\r\n      },\r\n      rules: {\r\n        name: [{required: true}],\r\n        des: [{required: true}],\r\n        home: [{required: true, type: \"url\"}],\r\n        logo: [{required: true, type: \"url\"}]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations(['updateLinkData']),\r\n    submit() {\r\n      this.$refs.form.validate(async v => {\r\n        if (v) {\r\n          let {data} = await this.$axios({\r\n            method: \"POST\",\r\n            url: \"/adminServer/link/add\",\r\n            data: this.form\r\n          })\r\n\r\n          if (data.code) {\r\n            return this.$message.error(data.msg)\r\n          }\r\n\r\n          this.$message.success(\"添加成功\")\r\n          this.$refs.form.resetFields()\r\n          await this.getLinkData()\r\n        } else {\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    //获取友链\r\n    async getLinkData() {\r\n      let {data} = await this.$axios({\r\n        method: \"GET\",\r\n        url: \"/get/link\"\r\n      })\r\n\r\n      if (data.code) {\r\n        return this.$message.error(data.msg)\r\n      }\r\n\r\n      this.updateLinkData(data.data)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n</style>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":["_openBlock","_createElementBlock","_createVNode"],"mappings":"g3BA8BA,KAAK,GAAU,CACb,KAAM,UACN,MAAO,CACL,MAAO,CACL,KAAM,CACJ,KAAM,GACN,KAAM,GACN,KAAM,GACN,IAAK,EACN,EACD,MAAO,CACL,KAAM,CAAC,CAAC,SAAU,EAAI,CAAC,EACvB,IAAK,CAAC,CAAC,SAAU,EAAI,CAAC,EACtB,KAAM,CAAC,CAAC,SAAU,GAAM,KAAM,KAAK,CAAC,EACpC,KAAM,CAAC,CAAC,SAAU,GAAM,KAAM,KAAK,CAAC,CACtC,CACF,CACD,EACD,QAAS,CACP,GAAG,EAAa,CAAC,gBAAgB,CAAC,EAClC,QAAS,CACP,KAAK,MAAM,KAAK,SAAS,KAAM,IAAK,CAClC,GAAI,EAAG,CACL,GAAI,CAAC,QAAQ,KAAM,MAAK,OAAO,CAC7B,OAAQ,OACR,IAAK,wBACL,KAAM,KAAK,KACZ,EAED,GAAI,EAAK,KACP,MAAO,MAAK,SAAS,MAAM,EAAK,GAAG,EAGrC,KAAK,SAAS,QAAQ,0BAAM,EAC5B,KAAK,MAAM,KAAK,YAAY,EAC5B,KAAM,MAAK,YAAY,MAEvB,OAAO,GAEV,CACF,EAED,KAAM,cAAc,CAClB,GAAI,CAAC,QAAQ,KAAM,MAAK,OAAO,CAC7B,OAAQ,MACR,IAAK,YACN,EAED,GAAI,EAAK,KACP,MAAO,MAAK,SAAS,MAAM,EAAK,GAAG,EAGrC,KAAK,eAAe,EAAK,IAAI,CAC/B,CACF,CACF,EApFO,EAAA,CAAA,GAAG,SAAS,MAqB4C,0BAAI,oGArBjE,MAAAA,GAAA,EAAAC,EAwBM,MAxBN,EAwBM,CAvBJC,EAsBU,EAAA,CArBL,MAAO,EAAI,KACX,MAAO,EAAK,MACb,IAAI,OACJ,cAAA,GACA,iBAAe,kBAEjB,IAEe,CAFfA,EAEe,EAAA,CAFD,MAAM,eAAK,KAAK,mBAC5B,IAAyC,CAAzCA,EAAyC,EAAA,CAAtB,WAAA,EAAA,KAAK,KAAL,sBAAA,EAAA,IAAA,GAAA,GAAA,GAAA,EAAA,KAAK,KAAI,mCAE9BA,EAEe,EAAA,CAFD,MAAM,eAAK,KAAK,mBAC5B,IAAyC,CAAzCA,EAAyC,EAAA,CAAtB,WAAA,EAAA,KAAK,KAAL,sBAAA,EAAA,IAAA,GAAA,GAAA,GAAA,EAAA,KAAK,KAAI,mCAE9BA,EAEe,EAAA,CAFD,MAAM,eAAK,KAAK,mBAC5B,IAAyC,CAAzCA,EAAyC,EAAA,CAAtB,WAAA,EAAA,KAAK,KAAL,sBAAA,EAAA,IAAA,GAAA,GAAA,GAAA,EAAA,KAAK,KAAI,mCAE9BA,EAEe,EAAA,CAFD,MAAM,eAAK,KAAK,kBAC5B,IAAwC,CAAxCA,EAAwC,EAAA,CAArB,WAAA,EAAA,KAAK,IAAL,sBAAA,EAAA,IAAA,GAAA,GAAA,GAAA,EAAA,KAAK,IAAG,mCAE7BA,EAEe,EAAA,KAAA,WADb,IAAuE,CAAvEA,EAAuE,EAAA,CAA5D,KAAK,UAAU,KAAK,QAAS,QAAO,EAAM,mBAAE,IAAI"}