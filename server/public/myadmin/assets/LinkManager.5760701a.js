import{mapState as c,mapMutations as p}from"https://esm.sh/vuex@4.0.2";import{resolveComponent as r,openBlock as g,createElementBlock as h,createVNode as a,withCtx as l,createElementVNode as f,createTextVNode as u}from"https://esm.sh/vue@3.0.5";import{_ as k}from"./index.10c0c1b8.js";import"https://cdn.jsdelivr.net/npm/ant-design-vue@2.2.0-beta.6/lib/grid/style/index.css";import"https://esm.sh/axios@0.21.1";import"https://esm.sh/dayjs@1.10.5";import"https://esm.sh/dayjs@1.10.5/plugin/localeData.js";import"https://esm.sh/dayjs@1.10.5/plugin/customParseFormat.js";import"https://esm.sh/dayjs@1.10.5/plugin/advancedFormat.js";import"https://esm.sh/dayjs@1.10.5/plugin/weekOfYear.js";import"https://esm.sh/dayjs@1.10.5/plugin/weekYear.js";import"https://esm.sh/dayjs@1.10.5/plugin/dayOfYear.js";import"https://esm.sh/dayjs@1.10.5/plugin/isSameOrAfter.js";import"https://esm.sh/dayjs@1.10.5/plugin/isSameOrBefore.js";const V={name:"LinkManger",data(){return{}},computed:{...c(["linkData"])},methods:{...p(["updateLinkData"]),async update(t){let{data:n}=await this.$axios({method:"POST",url:"/adminServer/link/update",data:{_id:t._id,name:t.name,home:t.home,logo:t.logo,des:t.des}});if(n.code)return this.$message.error(n.code);this.$message.success("\u66F4\u65B0\u5B8C\u6210")},async deleteLink(t){let{data:n}=await this.$axios({method:"delete",url:"/adminServer/link/delete",data:{_id:t._id}});if(n.code)return this.$message.error(n.code);this.$message.success("\u5220\u9664\u5B8C\u6210"),await this.getLinkData()},async getLinkData(){let{data:t}=await this.$axios({method:"GET",url:"/get/link"});if(t.code)return this.$message.error(t.msg);this.updateLinkData(t.data)}},created(){this.getLinkData(this)}},w={id:"LinkManger"},b={style:{display:"flex",width:"50%",height:"50%","justify-content":"space-between",margin:"0 auto"}},v=u("\u4FEE\u6539"),y=u("\u5220\u9664");function L(t,n,$,x,U,m){const i=r("el-input"),d=r("el-table-column"),s=r("el-button"),_=r("el-table");return g(),h("div",w,[a(_,{data:t.linkData,border:"",style:{width:"100%"}},{default:l(()=>[a(d,{label:"\u540D\u79F0",align:"center"},{default:l(e=>[a(i,{modelValue:e.row.name,"onUpdate:modelValue":o=>e.row.name=o},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),a(d,{label:"\u9996\u9875",align:"center"},{default:l(e=>[a(i,{modelValue:e.row.home,"onUpdate:modelValue":o=>e.row.home=o},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),a(d,{label:"logo",align:"center"},{default:l(e=>[a(i,{modelValue:e.row.logo,"onUpdate:modelValue":o=>e.row.logo=o},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),a(d,{label:"\u63CF\u8FF0",align:"center"},{default:l(e=>[a(i,{modelValue:e.row.des,"onUpdate:modelValue":o=>e.row.des=o},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),a(d,{fixed:"right",label:"\u64CD\u4F5C",align:"center"},{default:l(e=>[f("div",b,[a(s,{type:"primary",onClick:o=>m.update(e.row),size:"large"},{default:l(()=>[v]),_:2},1032,["onClick"]),a(s,{type:"danger",onClick:o=>m.deleteLink(e.row),size:"large"},{default:l(()=>[y]),_:2},1032,["onClick"])])]),_:1})]),_:1},8,["data"])])}var q=k(V,[["render",L],["__scopeId","data-v-645233a0"]]);export{q as default};
//# sourceMappingURL=LinkManager.5760701a.js.map
