import{mapMutations as p}from"https://esm.sh/vuex@4.0.2";import{resolveComponent as s,openBlock as f,createElementBlock as _,createVNode as o,withCtx as l,createTextVNode as c}from"https://esm.sh/vue@3.0.5";import{_ as g}from"./index.10c0c1b8.js";import"https://cdn.jsdelivr.net/npm/ant-design-vue@2.2.0-beta.6/lib/grid/style/index.css";import"https://esm.sh/axios@0.21.1";import"https://esm.sh/dayjs@1.10.5";import"https://esm.sh/dayjs@1.10.5/plugin/localeData.js";import"https://esm.sh/dayjs@1.10.5/plugin/customParseFormat.js";import"https://esm.sh/dayjs@1.10.5/plugin/advancedFormat.js";import"https://esm.sh/dayjs@1.10.5/plugin/weekOfYear.js";import"https://esm.sh/dayjs@1.10.5/plugin/weekYear.js";import"https://esm.sh/dayjs@1.10.5/plugin/dayOfYear.js";import"https://esm.sh/dayjs@1.10.5/plugin/isSameOrAfter.js";import"https://esm.sh/dayjs@1.10.5/plugin/isSameOrBefore.js";const h={name:"LinkAdd",data(){return{form:{name:"",home:"",logo:"",des:""},rules:{name:[{required:!0}],des:[{required:!0}],home:[{required:!0,type:"url"}],logo:[{required:!0,type:"url"}]}}},methods:{...p(["updateLinkData"]),submit(){this.$refs.form.validate(async m=>{if(m){let{data:e}=await this.$axios({method:"POST",url:"/adminServer/link/add",data:this.form});if(e.code)return this.$message.error(e.msg);this.$message.success("\u6DFB\u52A0\u6210\u529F"),this.$refs.form.resetFields(),await this.getLinkData()}else return!1})},async getLinkData(){let{data:m}=await this.$axios({method:"GET",url:"/get/link"});if(m.code)return this.$message.error(m.msg);this.updateLinkData(m.data)}}},V={id:"LinkAdd"},k=c("\u786E\u8BA4\u6DFB\u52A0");function b(m,e,x,L,t,a){const n=s("el-input"),i=s("el-form-item"),u=s("el-button"),d=s("el-form");return f(),_("div",V,[o(d,{model:t.form,rules:t.rules,ref:"form","status-icon":"","label-position":"top"},{default:l(()=>[o(i,{label:"\u540D\u79F0",prop:"name"},{default:l(()=>[o(n,{modelValue:t.form.name,"onUpdate:modelValue":e[0]||(e[0]=r=>t.form.name=r)},null,8,["modelValue"])]),_:1}),o(i,{label:"\u9996\u9875",prop:"home"},{default:l(()=>[o(n,{modelValue:t.form.home,"onUpdate:modelValue":e[1]||(e[1]=r=>t.form.home=r)},null,8,["modelValue"])]),_:1}),o(i,{label:"\u56FE\u6807",prop:"logo"},{default:l(()=>[o(n,{modelValue:t.form.logo,"onUpdate:modelValue":e[2]||(e[2]=r=>t.form.logo=r)},null,8,["modelValue"])]),_:1}),o(i,{label:"\u63CF\u8FF0",prop:"des"},{default:l(()=>[o(n,{modelValue:t.form.des,"onUpdate:modelValue":e[3]||(e[3]=r=>t.form.des=r)},null,8,["modelValue"])]),_:1}),o(i,null,{default:l(()=>[o(u,{type:"primary",size:"large",onClick:a.submit},{default:l(()=>[k]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model","rules"])])}var F=g(h,[["render",b]]);export{F as default};
//# sourceMappingURL=LinkAdd.fd96ad06.js.map
