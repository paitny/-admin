{"version":3,"file":"LinkManager.5760701a.js","sources":["../../src/views/LinkManage/LinkManager.vue"],"sourcesContent":["<template>\r\n  <div id=\"LinkManger\">\r\n    <el-table\r\n        :data=\"linkData\"\r\n        border\r\n        style=\"width: 100%\"\r\n    >\r\n      <el-table-column\r\n          label=\"名称\"\r\n          align=\"center\"\r\n      >\r\n        <template #default=\"scope\">\r\n          <el-input v-model=\"scope.row.name\"></el-input>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n          label=\"首页\"\r\n          align=\"center\"\r\n      >\r\n        <template #default=\"scope\">\r\n          <el-input v-model=\"scope.row.home\"></el-input>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n          label=\"logo\"\r\n          align=\"center\"\r\n      >\r\n        <template #default=\"scope\">\r\n          <el-input v-model=\"scope.row.logo\"></el-input>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n          label=\"描述\"\r\n          align=\"center\"\r\n      >\r\n        <template #default=\"scope\">\r\n          <el-input v-model=\"scope.row.des\"></el-input>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n          fixed=\"right\"\r\n          label=\"操作\"\r\n          align=\"center\"\r\n      >\r\n        <template #default=\"scope\">\r\n          <div style=\"display: flex;width: 50%;height: 50% ;justify-content: space-between;margin: 0 auto\">\r\n            <el-button type=\"primary\" @click=\"update(scope.row)\" size=\"large\">修改</el-button>\r\n            <el-button type=\"danger\" @click=\"deleteLink(scope.row)\" size=\"large\">删除</el-button>\r\n          </div>\r\n\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapState, mapMutations} from 'vuex'\r\nexport default {\r\n  name: \"LinkManger\",\r\n  data() {\r\n    return {}\r\n  },\r\n  computed: {\r\n    ...mapState(['linkData'])\r\n  },\r\n  methods: {\r\n    ...mapMutations(['updateLinkData']),\r\n    //修改\r\n    async update(item) {\r\n      let {data} = await this.$axios({\r\n        method: \"POST\",\r\n        url: \"/adminServer/link/update\",\r\n        data: {\r\n          _id: item._id,\r\n          name: item.name,\r\n          home: item.home,\r\n          logo: item.logo,\r\n          des: item.des\r\n        }\r\n      })\r\n\r\n      if (data.code) {\r\n        return this.$message.error(data.code)\r\n      }\r\n\r\n      this.$message.success(\"更新完成\")\r\n    },\r\n\r\n    //删除\r\n    async deleteLink(item) {\r\n      let {data} = await this.$axios({\r\n        method: \"delete\",\r\n        url: \"/adminServer/link/delete\",\r\n        data: {\r\n          _id: item._id\r\n        }\r\n      })\r\n\r\n      if (data.code) {\r\n        return this.$message.error(data.code)\r\n      }\r\n\r\n      this.$message.success(\"删除完成\")\r\n      await this.getLinkData()\r\n    },\r\n\r\n    //获取友链\r\n    async getLinkData() {\r\n      let {data} = await this.$axios({\r\n        method: \"GET\",\r\n        url: \"/get/link\"\r\n      })\r\n\r\n      if (data.code) {\r\n        return this.$message.error(data.msg)\r\n      }\r\n\r\n      this.updateLinkData(data.data)\r\n    }\r\n  },\r\n  created() {\r\n    this.getLinkData(this)\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n#LinkManger {\r\n  .el-button + .el-button {\r\n    margin-left: 0;\r\n  }\r\n}\r\n</style>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":["_openBlock","_createElementBlock","_createVNode","_withCtx","_createElementVNode"],"mappings":"s5BA0DA,KAAK,GAAU,CACb,KAAM,aACN,MAAO,CACL,MAAO,CAAC,CACT,EACD,SAAU,CACR,GAAG,EAAS,CAAC,UAAU,CAAC,CACzB,EACD,QAAS,CACP,GAAG,EAAa,CAAC,gBAAgB,CAAC,EAElC,KAAM,QAAO,EAAM,CACjB,GAAI,CAAC,QAAQ,KAAM,MAAK,OAAO,CAC7B,OAAQ,OACR,IAAK,2BACL,KAAM,CACJ,IAAK,EAAK,IACV,KAAM,EAAK,KACX,KAAM,EAAK,KACX,KAAM,EAAK,KACX,IAAK,EAAK,GACZ,EACD,EAED,GAAI,EAAK,KACP,MAAO,MAAK,SAAS,MAAM,EAAK,IAAI,EAGtC,KAAK,SAAS,QAAQ,0BAAM,CAC7B,EAGD,KAAM,YAAW,EAAM,CACrB,GAAI,CAAC,QAAQ,KAAM,MAAK,OAAO,CAC7B,OAAQ,SACR,IAAK,2BACL,KAAM,CACJ,IAAK,EAAK,GACZ,EACD,EAED,GAAI,EAAK,KACP,MAAO,MAAK,SAAS,MAAM,EAAK,IAAI,EAGtC,KAAK,SAAS,QAAQ,0BAAM,EAC5B,KAAM,MAAK,YAAY,CACxB,EAGD,KAAM,cAAc,CAClB,GAAI,CAAC,QAAQ,KAAM,MAAK,OAAO,CAC7B,OAAQ,MACR,IAAK,YACN,EAED,GAAI,EAAK,KACP,MAAO,MAAK,SAAS,MAAM,EAAK,GAAG,EAGrC,KAAK,eAAe,EAAK,IAAI,CAC/B,CACD,EACD,SAAU,CACR,KAAK,YAAY,IAAI,CACvB,CACF,EA3HO,EAAA,CAAA,GAAG,YAAY,EA4CP,EAAA,CAAA,MAAA,CAA2F,QAAA,OAAA,MAAA,MAAA,OAAA,MAAA,kBAAA,gBAAA,OAAA,QAAA,CAAA,MAC5B,cAAE,MACC,cAAE,wGA9CjF,MAAAA,GAAA,EAAAC,EAoDM,MApDN,EAoDM,CAnDJC,EAkDW,EAAA,CAjDN,KAAM,EAAQ,SACf,OAAA,GACA,MAAA,CAAmB,MAAA,MAAA,cAErB,IAOkB,CAPlBA,EAOkB,EAAA,CANd,MAAM,eACN,MAAM,WAEG,QAAOC,EAChB,AAA8C,GADvB,CACvBD,EAA8C,EAAA,YAA3B,EAAM,IAAI,8BAAV,EAAM,IAAI,KAAI,wDAGrCA,EAOkB,EAAA,CANd,MAAM,eACN,MAAM,WAEG,QAAOC,EAChB,AAA8C,GADvB,CACvBD,EAA8C,EAAA,YAA3B,EAAM,IAAI,8BAAV,EAAM,IAAI,KAAI,wDAGrCA,EAOkB,EAAA,CANd,MAAM,OACN,MAAM,WAEG,QAAOC,EAChB,AAA8C,GADvB,CACvBD,EAA8C,EAAA,YAA3B,EAAM,IAAI,8BAAV,EAAM,IAAI,KAAI,wDAGrCA,EAOkB,EAAA,CANd,MAAM,eACN,MAAM,WAEG,QAAOC,EAChB,AAA6C,GADtB,CACvBD,EAA6C,EAAA,YAA1B,EAAM,IAAI,6BAAV,EAAM,IAAI,IAAG,wDAGpCA,EAYkB,EAAA,CAXd,MAAM,QACN,MAAM,eACN,MAAM,WAEG,QAAOC,EAChB,AAGM,GAJiB,CACvBC,EAGM,MAHN,EAGM,CAFJF,EAAgF,EAAA,CAArE,KAAK,UAAW,QAAO,GAAA,EAAA,OAAO,EAAM,GAAG,EAAG,KAAK,oBAAQ,IAAE,4BACpEA,EAAmF,EAAA,CAAxE,KAAK,SAAU,QAAO,GAAA,EAAA,WAAW,EAAM,GAAG,EAAG,KAAK,oBAAQ,IAAE"}