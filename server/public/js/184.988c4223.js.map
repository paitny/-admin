{"version":3,"file":"js/184.988c4223.js","mappings":"iLACOA,GAAG,YAAYC,cAAc,eAAeC,cAAc,eAAeC,OAAO,gB,0CAArFC,EAAAA,EAAAA,IAKM,MALN,EAKM,EAJJC,EAAAA,EAAAA,GAEU,+BADRD,EAAAA,EAAAA,IAAiEE,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAA9BC,EAAAA,QAARC,K,WAA3BL,EAAAA,EAAAA,IAAiE,QAA3DJ,GAAG,WAAmCU,IAAKD,EAAKT,QAAtD,U,eAQN,GACEW,KAAM,YACNC,OACE,MAAM,CACJC,OAAQ,CACNb,GAAG,IAAIc,QAIbC,MAAM,CAIJC,WACEC,KAAKC,aAGTC,SAAU,KACLC,EAAAA,EAAAA,IAAS,CAAC,cAEfC,QAAS,CAEPH,WACOD,KAAKD,SAASM,OACjBL,KAAKM,QAAQC,QAAQ,YACrBP,KAAKQ,SAASC,MAAM,qBAGxBC,WACKV,KAAKD,SAASM,MAGrBM,eACE,IAAI5B,EAAKiB,KAAKY,OAAOC,OAAO9B,IACxB,KAACY,SAAcK,KAAKc,OAAO,CAC7BC,OAAQ,MACRC,IAAK,iBACLH,OAAQ,CAAC9B,QAIX,GAAIY,EAAKsB,KACP,OAAOjB,KAAKQ,SAAS,CACnBU,KAAM,QACNC,QAASxB,EAAKyB,IACdC,SAAU,IACVC,QAAS,KACPtB,KAAKM,QAAQC,QAAQ,eAK3B,IAAKZ,KAAM4B,SAAYvB,KAAKc,OAAO,CACjCC,OAAQ,MACRC,IAAM,GAAErB,EAAKA,KAAK4B,OAEpBC,SAASC,eAAe,WAAY,CAClCC,SAAUH,EACVI,OAAO,MAIXC,iBAAiBC,EAAIC,EAAMC,GACzBA,GAAKC,IACHA,EAAG/B,eAGPgC,UACEC,OAAOC,iBAAiB,gBAAgBC,IACtCpC,KAAKU,SAAS0B,MAEhBpC,KAAKqC,UAGPC,YACEJ,OAAOK,oBAAoB,gBAAgBH,IACzCpC,KAAKU,SAAS0B,Q,WChFpB,MAAMI,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF","sources":["webpack://myblog/./src/views/ArticleID.vue","webpack://myblog/./src/views/ArticleID.vue?0263"],"sourcesContent":["<template>\r\n  <div id=\"ArticleID\" oncontextmenu=\"return false\" onselectstart=\"return false\" oncopy=\"return false\" >\r\n    <article>\r\n      <main id=\"mdToHTML\" v-for=\"item in random\" :key=\"item.id\"></main>\r\n    </article>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapState} from \"vuex\";\r\nexport default {\r\n  name: \"ArticleID\",\r\n  data(){\r\n    return{\r\n      random :{\r\n        id:new Date()\r\n      }\r\n    }\r\n  },\r\n  watch:{\r\n    // $route(to,from){\r\n    //   this.$router.go(0)\r\n    // },\r\n    userInfo() {\r\n      this.backHome()\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['userInfo'])\r\n  },\r\n  methods: {\r\n    //未登录情况下，返回文章页\r\n    backHome() {\r\n      if (!this.userInfo.user) {\r\n        this.$router.replace(\"/Article\")\r\n        this.$message.error(\"当前未登录,请先登录后阅读文章\")\r\n      }\r\n    },\r\n    unloadFn(){\r\n      if(this.userInfo.user)return\r\n    }\r\n,\r\n  async getArt(){\r\n    let id = this.$route.params.id\r\n    let {data} = await this.$axios({\r\n      method: \"GET\",\r\n      url: \"/get/articleID\",\r\n      params: {id}\r\n    })\r\n\r\n\r\n    if (data.code) {\r\n      return this.$message({\r\n        type: \"error\",\r\n        message: data.msg,\r\n        duration: 1000,\r\n        onClose: () => {\r\n          this.$router.replace('/article')\r\n        }\r\n      })\r\n    }\r\n\r\n    let {data: md} = await this.$axios({\r\n      method: \"GET\",\r\n      url: `${data.data.md}`\r\n    })\r\n    editormd.markdownToHTML(\"mdToHTML\", {\r\n      markdown: md,\r\n      emoji: true\r\n    });\r\n    },\r\n  },\r\n  beforeRouteEnter(to, from, next) {\r\n    next(vm => {\r\n      vm.backHome()\r\n    })\r\n  },\r\n  mounted() {\r\n    window.addEventListener(\"beforeunload\", e => {\r\n      this.unloadFn(e);\r\n    });\r\n    this.getArt()\r\n\r\n  },\r\n  destroyed() {\r\n    window.removeEventListener(\"beforeunload\", e => {\r\n      this.unloadFn(e);\r\n    });\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n#ArticleID {\r\n  background: #fff;\r\n  #mdToHTML {\r\n    box-sizing: border-box;\r\n  }\r\n}\r\n</style>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import { render } from \"./ArticleID.vue?vue&type=template&id=2fa665fe&scoped=true\"\nimport script from \"./ArticleID.vue?vue&type=script&lang=js\"\nexport * from \"./ArticleID.vue?vue&type=script&lang=js\"\n\nimport \"./ArticleID.vue?vue&type=style&index=0&id=2fa665fe&lang=less&scoped=true\"\n\nimport exportComponent from \"E:\\\\vue实战\\\\myblog\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2fa665fe\"]])\n\nexport default __exports__"],"names":["id","oncontextmenu","onselectstart","oncopy","_createElementBlock","_createElementVNode","_Fragment","_renderList","$data","item","key","name","data","random","Date","watch","userInfo","this","backHome","computed","mapState","methods","user","$router","replace","$message","error","unloadFn","async","$route","params","$axios","method","url","code","type","message","msg","duration","onClose","md","editormd","markdownToHTML","markdown","emoji","beforeRouteEnter","to","from","next","vm","mounted","window","addEventListener","e","getArt","destroyed","removeEventListener","__exports__","render"],"sourceRoot":""}